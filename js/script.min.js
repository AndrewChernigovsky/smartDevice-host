"use strict";const footerNav=document.querySelector(".footer__nav"),footerContacts=document.querySelector(".footer__contacts"),btnContactsFooter=document.getElementById("footerBtnContacts"),btnNavFooter=document.getElementById("footerBtnNav"),btnPopup=(footerNav.classList.remove("footer__nav--nojs"),footerContacts.classList.remove("footer__contacts--nojs"),btnNavFooter.addEventListener("click",()=>{footerContacts.classList.remove("footer__contacts--opened"),footerContacts.classList.add("footer__contacts--closed"),footerNav.classList.contains("footer__nav--closed")?(footerNav.classList.add("footer__nav--opened"),footerNav.classList.remove("footer__nav--closed")):footerContacts.classList.contains("footer__contacts--opened")?(footerContacts.classList.remove("footer__contacts--opened"),footerContacts.classList.add("footer__contacts--closed")):(footerNav.classList.remove("footer__nav--opened"),footerNav.classList.add("footer__nav--closed"))}),btnContactsFooter.addEventListener("click",()=>{footerNav.classList.remove("footer__nav--opened"),footerNav.classList.add("footer__nav--closed"),footerContacts.classList.contains("footer__contacts--closed")?(footerContacts.classList.add("footer__contacts--opened"),footerContacts.classList.remove("footer__contacts--closed")):footerNav.classList.contains("footer__nav--opened")?(footerNav.classList.remove("footer__nav--opened"),footerNav.classList.add("footer__nav--closed")):(footerContacts.classList.remove("footer__contacts--opened"),footerContacts.classList.add("footer__contacts--closed"))}),document.getElementById("callUs")),overflow=document.getElementById("overflow"),popupName=document.getElementById("popname"),popupform=document.querySelector(".mainformPopup"),popupformbtn=document.querySelector(".btnPop"),body=document.querySelector(".page__body"),formPopup=document.querySelector(".main-formPopup"),formPopupName=document.getElementById("popname"),formPopupPhone=document.getElementById("popphone");function isValidPhone(o){return!/^(\+7|7|8)?[\s\-]?\(?[489][0-9]{2}\)?[\s\-]?[0-9]{3}[\s\-]?[0-9]{2}[\s\-]?[0-9]{2}$/.test(o.value)}function isValidName(o){return!/^\D{1,3}[А-Яа-яA-Za-z0-9_-]{3,30}$/.test(o.value)}btnPopup.addEventListener("click",()=>{overflow.classList.add("overflow"),popupform.classList.add("mainformPopup-js"),body.style.overflowY="hidden",popupform.style.overflowY="scroll",formPopup.classList.add("scroll-form"),popupName.focus()}),overflow.addEventListener("click",()=>{popupform.classList.remove("mainformPopup-js"),overflow.classList.remove("overflow"),body.style.overflowY="scroll",popupform.style.overflowY="hidden"}),document.addEventListener("keydown",function(o){"Escape"===o.key&&(popupform.classList.remove("mainformPopup-js"),overflow.classList.remove("overflow"),body.style.overflowY="scroll",popupform.style.overflowY="hidden")}),popupformbtn.addEventListener("click",()=>{popupform.classList.remove("mainformPopup-js"),overflow.classList.remove("overflow"),body.style.overflowY="scroll",popupform.style.overflowY="hidden"}),formPopupName.removeAttribute("required"),formPopupPhone.removeAttribute("required"),popupform.addEventListener("submit",function(o){isValidName(formPopupName)?(formPopupName.classList.add("error"),o.preventDefault()):(formPopupName.classList.remove("error"),formPopupName.classList.add("success"),localStorage.setItem("username",formPopupName.value)),isValidPhone(formPopupPhone)?(formPopupPhone.classList.add("error"),o.preventDefault()):(formPopupPhone.classList.remove("error"),formPopupPhone.classList.add("success"),localStorage.setItem("phone",formPopupPhone.value)),formPopupPhone.classList.contains("success")&&formPopupName.classList.contains("success")&&alert("Форма успешно отправлена")}),formPopupPhone.oninput=function(){this.value=this.value.replace(/[a-zA-ZА-Яа-я]/g,"")};const anchors=document.querySelectorAll('a[href*="#"]');for(let e of anchors)e.addEventListener("click",function(o){o.preventDefault();o=e.getAttribute("href").substr(1);document.getElementById(o).scrollIntoView({behavior:"smooth",block:"start"})});